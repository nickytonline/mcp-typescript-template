# Server Configuration
PORT=3000
NODE_ENV=development
SERVER_NAME=mcp-typescript-template
SERVER_VERSION=1.0.0
LOG_LEVEL=info

# Base URL for the server (used for OAuth redirects and discovery endpoints)
# Defaults to http://localhost:PORT if not set (where PORT is the configured port)
# BASE_URL=http://localhost:3000

# Authentication Configuration (Optional)
# Set ENABLE_AUTH=true to enable authentication
ENABLE_AUTH=false

# Authentication mode: "resource_server", "full", or "none" (default)
AUTH_MODE=resource_server

# ============================================================================
# Resource Server Mode Configuration
# ============================================================================
# MCP server acts as a resource server and validates tokens from external OAuth providers
# Commonly used with gateways that handle OAuth flows for enterprise deployments
# Can also work with direct OAuth flows where clients get tokens themselves

# OAuth issuer URL for token validation (required for resource_server mode)
# Examples:
#   Auth0: https://your-domain.auth0.com
#   Okta: https://your-domain.okta.com
#   Google: https://accounts.google.com
OAUTH_ISSUER=https://your-domain.auth0.com

# Expected audience in JWT tokens (optional)
# If set, tokens must have this audience claim
OAUTH_AUDIENCE=your-api-identifier

# ============================================================================
# Full Mode Configuration (OAuth Proxy + Resource Server)
# ============================================================================
# MCP server acts as both OAuth client (proxy to external IdP) AND resource server
# Provides OAuth endpoints while delegating authentication to external providers
# Production-ready but consider using resource_server mode with a gateway for enterprise deployments

# OAuth client credentials (required for full mode)
OAUTH_CLIENT_ID=your-client-id
OAUTH_CLIENT_SECRET=your-client-secret

# OAuth provider endpoints (required for full mode)
OAUTH_AUTH_ENDPOINT=https://your-domain.auth0.com/authorize
OAUTH_TOKEN_ENDPOINT=https://your-domain.auth0.com/oauth/token

# OAuth configuration
OAUTH_SCOPE=read
# OAUTH_REDIRECT_URI=http://localhost:3000/callback  # Optional, defaults to BASE_URL/callback

# ============================================================================
# Example Configurations
# ============================================================================

# Example: Auth0 Resource Server Mode
# ENABLE_AUTH=true
# AUTH_MODE=resource_server
# OAUTH_ISSUER=https://your-domain.auth0.com
# OAUTH_AUDIENCE=your-api-identifier

# Example: Auth0 Full Mode
# ENABLE_AUTH=true
# AUTH_MODE=full
# OAUTH_CLIENT_ID=your-auth0-client-id
# OAUTH_CLIENT_SECRET=your-auth0-client-secret
# OAUTH_AUTH_ENDPOINT=https://your-domain.auth0.com/authorize
# OAUTH_TOKEN_ENDPOINT=https://your-domain.auth0.com/oauth/token
# OAUTH_SCOPE=read
# OAUTH_REDIRECT_URI=http://localhost:3000/callback  # Optional, defaults to BASE_URL/callback

# Example: No Authentication Mode (Default)
# Note: Consider enabling auth even for local development for security best practices
# ENABLE_AUTH=false
# AUTH_MODE=none